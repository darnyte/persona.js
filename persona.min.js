window.PersonaJS=function(){return function(e){e||(e={}),e.logout||(e.logout={}),e.logout.path||(e.logout.path="/logout"),e.logout.select||(e.logout.select=".persona_logout"),e.login||(e.login={}),e.login.path||(e.login.path="/login"),e.login.select||(e.login.select=".persona_login");if(!navigator.id||!navigator.id.watch)throw"please include include.js from persona.org";var t={},n=document.querySelector(e.login.select),r=document.querySelector(e.logout.select);if(!n&&!r)throw"Persona login disabled.  You must have either a '"+e.logout.select+"' or '"+e.logout.select+"' class in your DOM";if(n&&r)throw"Persona login disabled.  You can't have both '"+e.logout.select+"' and '"+e.logout.select+"' classes in your DOM";n?(t.loggedInUser=null,t.onlogin=function(t){var n=document.createElement("form");n.action=e.login.path,n.method="POST";var r=document.createElement("input");r.type="hidden",r.value=t,r.name="assertion",n.appendChild(r),document.body.appendChild(n),n.submit()},t.onlogout=function(){},n.onclick=function(){navigator.id.request(e)}):(t.loggedInUser=e.loggedInUser,t.onlogout=function(){var t=document.createElement("form");t.action=e.logout.path,t.method="POST",document.body.appendChild(t),t.submit()},t.onlogin=function(){},r.onclick=function(){navigator.id.logout()}),navigator.id.watch(t)}}();